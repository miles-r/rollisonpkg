"0","region_drought = joined %>% group_by(year, month, day, ams_hay_region, FIPS) %>% summarise(pct_area = max(D2_or_greater_pct))"
"0","region_drought %<>% arrange(year, month, day)"
"0","region_drought %<>% group_by(year, month, day, ams_hay_region) %>% summarise(pct_area = sum(pct_area) %>% round(4))"
"0","region_drought %<>% arrange(ams_hay_region, year, month, day)"
"0","dummies = rollison::make_dummies(region_drought$ams_hay_region) * region_drought$pct_area "
"0","dummies %<>% as_tibble"
"0","consec = dummies %>% mutate_all(funs(consecutive_event(.))) %>% rowSums"
"0","region_drought$consecutive_weeks = consec"
"0","# since = dummies %>% mutate_all(funs(consecutive_event(., since = T)))"
"0","# colnames(since) %<>% make.names"
"0","# region_drought %<>% bind_cols(since) %>% mutate(since = case_when("
"0","#   ams_hay_region == ""Mountains and Northwest"" ~ Mountains.and.Northwest,"
"0","#   ams_hay_region == ""None"" ~ None,"
"0","#   ams_hay_region == ""Northeast Colorado"" ~ Northeast.Colorado,"
"0","#   ams_hay_region == ""San Luis Valley"" ~ San.Luis.Valley,"
"0","#   ams_hay_region == ""South Western Colorado"" ~ South.Western.Colorado,"
"0","#   ams_hay_region == ""Southeast Colorado"" ~ Southeast.Colorado))"
"0","region_drought %<>% select( c(year, month, ams_hay_region, pct_area, consecutive_weeks))"
"0","region_drought$month %<>% as.integer"
